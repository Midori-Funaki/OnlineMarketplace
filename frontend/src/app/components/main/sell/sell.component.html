<app-connect-stripe *ngIf="!isConnectedAccount && user; else connected"></app-connect-stripe>
<ng-template #connected>
  <div *ngIf="user">Your stripe account is connected</div>
</ng-template>

<div class="container">
  <!-- <div class="col-xs-6 mx-auto" *ngIf="product | async as product"> -->
    <form [formGroup]="sellForm" (ngSubmit)="createNewSell()">
      <div class="form-group">
        <span class="float-field float-select">
          <label class="float-label">Category</label>
          <select id="category" class="form-control" formControlName="category" (change)="filterBrand($event.target.value)">
            <option *ngFor="let category of categories" [value]="category.title">{{ category.title }}</option>
          </select>
        </span>
      </div><!-- form-group -->
      <div class="form-group">
        <span class="float-field float-select">
          <label class="float-label">Brand</label>
          <select id="brand" class="form-control" formControlName="brand" (change)="filterTitle($event.target.value)">
            <option *ngFor="let brand of brands" [value]="brand">{{ brand }}</option>
          </select>
        </span>
      </div><!-- form-group -->
      <div class="form-group">
        <span class="float-field float-select">
          <label class="float-label">Item Name</label>
          <select id="title" class="form-control" formControlName="title" (change)="filterColor($event.target.value)">
            <option *ngFor="let title of titles" [value]="title">{{ title }}</option>
          </select>
        </span>
      </div><!-- form-group -->
      <div class="form-group">
        <span class="float-field float-select">
          <label class="float-label">Quantity</label><br>
          <input type="number" name="quantity" id="quantity" class="form-control" [value]="" formControlName="quantity">
        </span>
      </div><!-- form-group -->
      <div *ngIf="isShoeCategory" class="form-group">
        <span class="float-field float-select">
          <label class="float-label">Size (CM)</label>
          <div class="btn-toolbar">
            <div *ngFor="let size of sizes" class="btn-group btn-group-toggle" ngbRadioGroup name="size" formControlName="size">
              <label ngbButtonLabel class="btn-primary">
                <input ngbButton type="radio" [value]="size"> {{ size }}
              </label>
            </div>
          </div>
        </span>
      </div><!-- form-group -->
      <div class="form-group">
        <span class="float-field float-select">
          <label class="float-label">Color</label>
          <div class="btn-toolbar">
            <div *ngFor="let color of colors" class="btn-group btn-group-toggle" ngbRadioGroup name="color" formControlName="color">
              <label ngbButtonLabel class="btn-primary">
                <input ngbButton type="radio" [value]="color" (change)="checkColor($event.target.value)"> {{ color }}
              </label>
            </div>
            <input class="form-control" *ngIf="isOther" type="text" name="otherColor" id="otherColor" [value]="" formControlName="otherColor">
          </div>
        </span>
      </div><!-- form-group -->
      <div class="form-group">
        <span class="float-field float-select">
          <label class="float-label">Ask Price</label><br>
          <input type="number" name="askPrice" id="askPrice" class="form-control" [value]="" formControlName="currentAskPrice">
        </span>
      </div><!-- form-group -->
      <div class="form-group">
          <span class="float-field float-select">
            <label class="float-label">Product Condition</label>
            <div class="btn-toolbar">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="condition" formControlName="condition">
                <label ngbButtonLabel class="btn-primary">
                  <input ngbButton type="radio" value="new"> new
                </label>
                <label ngbButtonLabel class="btn-primary">
                  <input ngbButton type="radio" value="used"> used
                </label>
            </div>
          </div>
        </span>
      </div><!-- form-group -->
      <div class="form-group">
        <span class="float-field float-select">
          <label class="float-label">Description</label><br>
          <textarea name="description" id="description" class="form-control" [value]="" formControlName="description"></textarea>
        </span>
      </div><!-- form-group -->
      <div class="form-group">
        <p>Product Photos</p>
        <fieldset>
          <div class="wrapper">
            <div class="box form-group" ng2FileDrop [uploader]="uploader" (fileOver)="fileOverBase($event)" [ngClass]="{'nv-file-over': hasBaseDropZoneOver}">
              <div class="js--image-preview">
              </div>
              <div class="upload-options">
                <label>
                  <input type="file" class="image-upload" #fileInput ng2FileSelect accept="image/*" [uploader]="uploader" (change)="fileInput.value=''"/>
                </label>
              </div>
            </div>
            <div class="box box-preview" *ngFor="let image of images">
              <div class="delete-btn" (click)="deleteImage(image.id)"></div>
              <cl-image [public-id]="image.url">
                <cl-transformation height="300" width="300" crop="fill"></cl-transformation>
              </cl-image>
            </div>
          </div><!-- wrapper -->
        </fieldset>
      </div>
      <button *ngIf="isEditMode" class="btn btn-success" (click)="editSellItem()">Save Changes</button>
      <button *ngIf="!isEditMode" type="submit" class="btn btn-primary">Start Selling</button>
    </form>
  <!-- </div>col -->
</div>
<pre>{{ sellForm?.value | json }}</pre>